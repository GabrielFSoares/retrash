
<ion-header translucent="true">
  <ion-toolbar>
    <span class="icon" (click)="navegar('tabs/tab2', 'nenhum')">
      <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0)">
          <path id="icon-arrow" d="M20.6777 9.45578C20.5877 9.44117 20.4966 9.43443 20.4054 9.43561H4.88485L5.22328 9.2782C5.55408 9.12163 5.85503 8.90854 6.11264 8.64857L10.465 4.29621C11.0382 3.74902 11.1345 2.86876 10.6932 2.21055C10.1796 1.50914 9.19471 1.35685 8.49325 1.87045C8.43659 1.91196 8.38272 1.95722 8.33211 2.00592L0.461663 9.87636C-0.153412 10.4907 -0.153953 11.4874 0.460433 12.1025C0.460827 12.1029 0.46127 12.1033 0.461663 12.1037L8.33211 19.9741C8.94767 20.588 9.94432 20.5866 10.5582 19.971C10.6065 19.9226 10.6516 19.871 10.6932 19.8167C11.1345 19.1585 11.0382 18.2783 10.465 17.7311L6.12051 13.3708C5.88956 13.1396 5.62403 12.9458 5.33347 12.7963L4.86124 12.5838H20.3188C21.1229 12.6136 21.8284 12.0519 21.9795 11.2616C22.1186 10.4034 21.5358 9.59499 20.6777 9.45578Z" fill="white"/>
        </g>
        <defs>
          <clipPath id="clip0">
            <rect width="22" height="22" fill="white"/>
          </clipPath>
        </defs>
      </svg>
    </span>
    <ion-title>Histórico</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <main *ngIf="!verificarHisty">
    <ion-card *ngFor="let person of arrayObj">
      <ion-card-header>
        <div class="div1">
         <span>{{person.endereco.logadouro}}, {{person.endereco.numero}} {{person.endereco.complemento}}</span>
         <span  class="{{ person.status === 'Concluído' ? 'concluido' : person.status === 'Em andamento' ? 'andamento'  : 'pendente'}}">{{person.status}}
         </span>
        </div>
      </ion-card-header>
    
      <ion-card-content >
        <div class="itens">
          <span *ngIf="person.garrafa > 0">Garrafa : {{person.garrafa}}</span>
          <span *ngIf="person.oleo > 0">Oleo : {{person.oleo}}</span>
          <span *ngIf="person.papel > 0">Papel: {{person.papel}}</span>
          <span *ngIf="person.latinha > 0">Latinha: {{person.latinha}}</span>
        </div>
        <div class="dataEntrega">
          <span>Dia e horário para a coleta</span>
          <span>{{person.coleta.data}} entre {{ person.coleta.horario1}} e {{ person.coleta.horario2 }}</span>
        </div>
      </ion-card-content>

      <ion-card-content>
        <div class="dataAndPontos">
          <span>{{ converterDatar(person.data.seconds, 'L')}} às {{ converterDatar(person.data.seconds, 'LT')}}</span>
          <span>Pontos: {{person.pontos}}</span>
        </div>
        <p>Pedido: {{person.docId}}</p>
      </ion-card-content>
    </ion-card>

    <span *ngIf="verificarHisty">Nenhuma soliticação de coleta encontrada.</span>
  </main>

  <main *ngIf="verificarHisty">
    <ion-card *ngFor="let i of arrayObj">
      <ion-card-header>
        <div class="div1">
         <span><ion-skeleton-text animated style="width: 60px"></ion-skeleton-text></span>
         <span><ion-skeleton-text animated style="width: 60px"></ion-skeleton-text>
         </span>
        </div>
      </ion-card-header>
    
      <ion-card-content >
        <div class="itens">
          <span><ion-skeleton-text animated style="width: 50%"></ion-skeleton-text></span>
          <span ><ion-skeleton-text animated style="width: 50%"></ion-skeleton-text></span>
          <span ><ion-skeleton-text animated style="width: 50%"></ion-skeleton-text></span>
          <span ><ion-skeleton-text animated style="width: 50%"></ion-skeleton-text></span>
        </div>
        <div class="dataEntrega">
          <span><ion-skeleton-text animated style="width: 50%"></ion-skeleton-text></span>
          <span><ion-skeleton-text animated style="width: 50%"></ion-skeleton-text></span>
        </div>
      </ion-card-content>

      <ion-card-content>
        <div class="dataAndPontos">
          <span><ion-skeleton-text animated style="width: 100px"></ion-skeleton-text></span>
          <span><ion-skeleton-text animated style="width: 60px"></ion-skeleton-text></span>
        </div>
        <p><ion-skeleton-text animated style="width: 50%"></ion-skeleton-text></p>
      </ion-card-content>
    </ion-card>
  </main>
</ion-content>
